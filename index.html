<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Editor CientÃ­fico Visual</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="toolbar" contenteditable="false">
    <div class="group">
      <button class="section-toggle">â–¶ Mateâ‚‚mÃ¡ticas</button>
      <div class="section">
        <button onclick="insertSup()">xÂ²</button>
        <button onclick="insertSub()">Hâ‚‚O</button>
        <button onclick="insertFraction()">a/b</button>
        <button onclick="insertEMC()">E = mcÂ²</button>
        <button onclick="insertSymbol('âˆ‘')">âˆ‘</button>
        <button onclick="insertSymbol('âˆ‚')">âˆ‚</button>
        <button onclick="insertSymbol('âˆ«')">âˆ«</button>
        <button onclick="insertSymbol('âˆ†')">âˆ†</button>
        <button onclick="insertSymbol('âˆ')">âˆ</button>
      </div>
    </div>

    <div class="group">
      <button class="section-toggle">â–¶ FÃ­sica / QuÃ­mica</button>
      <div class="section">
        <button onclick="insertSymbol('â†’')">â†’</button>
        <button onclick="insertSymbol('â‡Œ')">â‡Œ</button>
        <button onclick="insertSymbol('Â°C')">Â°C</button>
      </div>
    </div>

    <div class="group">
      <button class="section-toggle">â–¶ SÃ­mbolos Griegos</button>
      <div class="section">
        <button onclick="insertSymbol('Î±')">Î±</button>
        <button onclick="insertSymbol('Î²')">Î²</button>
        <button onclick="insertSymbol('Î³')">Î³</button>
        <button onclick="insertSymbol('Î¸')">Î¸</button>
        <button onclick="insertSymbol('Î»')">Î»</button>
        <button onclick="insertSymbol('Ï€')">Ï€</button>
      </div>
    </div>

    <div class="group">
      <button class="section-toggle">â–¶ Referencias</button>
      <div class="section">
        <input type="text" id="newReference" placeholder="Ej: Autor, TÃ­tulo, AÃ±o" style="width: 80%;">
        <button onclick="addReference()">Agregar Referencia</button>
        <ul id="referenceList" class="reference-list"></ul>
      </div>
    </div>
  </div>

  <div id="controls">
    <button onclick="saveContent()">ğŸ’¾ Guardar ahora</button>
    <button onclick="resetContent()">ğŸ” Reiniciar documento</button>
    <button onclick="exportHTML()">ğŸ“„ Exportar HTML</button>
    <button onclick="exportDocx()">ğŸ“ƒ Exportar DOCX</button>
    <button onclick="exportPDF()">ğŸ“• Exportar PDF</button>
    <button onclick="openPreview()">ğŸ–¼ Vista previa</button>
    <button onclick="toggleDarkMode()">ğŸŒ™ Modo oscuro</button>
    <input type="file" id="imageInput" accept="image/*" style="display:none" onchange="insertImage(event)">
    <button onclick="document.getElementById('imageInput').click()">ğŸ–¼ Insertar imagen</button>
    <button onclick="insertHeading(1)">TÃ­tulo 1</button>
    <button onclick="insertHeading(2)">TÃ­tulo 2</button>
    <button onclick="insertHeading(3)">TÃ­tulo 3</button>

    <select id="pageSize" onchange="updatePageStyle()">
      <option value="A4">ğŸ“„ A4</option>
      <option value="letter">ğŸ“„ Carta</option>
    </select>

    <select id="orientation" onchange="updatePageStyle()">
      <option value="portrait">ğŸ“ Vertical</option>
      <option value="landscape">ğŸ“ Horizontal</option>
    </select>

    <label>MÃ¡rgenes:
      <input type="number" id="marginInput" value="2" min="0" max="10" step="0.1" onchange="updatePageStyle()"> cm
    </label>

    <button onclick="undo()">âª Deshacer</button>
    <button onclick="redo()">â© Rehacer</button>
    <button onclick="saveDocument()">ğŸ’¾ Guardar</button>
    <button onclick="toggleHistory()">ğŸ•°ï¸ Mostrar historial</button>
  </div>

  <div id="historyPanel">
    <h3>ğŸ•°ï¸ Historial</h3>
    <ul id="historyList"></ul>
    <button onclick="clearHistory()">ğŸ—‘ï¸ Limpiar historial</button>
  </div>

  <div id="previewOverlay" class="preview-overlay" onclick="closePreview()">
    <div class="preview-window" onclick="event.stopPropagation()">
      <h3>Vista previa</h3>
      <div id="previewContent" class="preview-content"></div>
      <button onclick="closePreview()">Cerrar vista previa</button>
    </div>
  </div>

  <div id="header" contenteditable="true" class="header-footer">Encabezado del documento</div>
  <div id="editor" contenteditable="true"></div>

  <div id="referenceSection">
    <h3>Referencias</h3>
    <ol id="referenceDisplay"></ol>
  </div>

  <div id="footer" contenteditable="true" class="header-footer">Pie de pÃ¡gina</div>

  <div id="counter">
    Palabras: <span id="wordCount">0</span> |
    Caracteres (con espacios): <span id="charCount">0</span> |
    Caracteres (sin espacios): <span id="charCountNoSpaces">0</span>
  </div>

  <div id="previewModal" class="modal">
    <div class="modal-content">
      <span class="close-button" onclick="closePreview()">&times;</span>
      <div id="previewContent"></div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
